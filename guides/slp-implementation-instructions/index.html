<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SLP Implementation Instruction for Wallet and Exchanges</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#3a0839">
    <link rel="shortcut icon" href="/favicon.ico"><link rel='canonical' href='https://slp.dev/guides/slp-implementation-instructions/'/>
    <meta name="description" content="">
    <meta property="article:modified_time" content="2020-05-02T19:31:31.000Z">
    <meta property="og:title" content="SLP Implementation Instruction for Wallet and Exchanges">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://slp.dev/guides/slp-implementation-instructions/">
    <meta property="og:image" content="https://slp.dev/logo.png">
    <meta name="twitter:title" content="SLP Implementation Instruction for Wallet and Exchanges">
    <meta name="twitter:url" content="https://slp.dev/guides/slp-implementation-instructions/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://slp.dev/logo.png">
    <meta name="image" content="https://slp.dev/logo.png">
    <meta name="msapplication-TileColor" content="#3a0839">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="theme-color" content="#5bbad5">
    <link rel="preload" href="/assets/css/0.styles.8a65df11.css" as="style"><link rel="preload" href="/assets/js/app.bf846639.js" as="script"><link rel="preload" href="/assets/js/2.a571aff2.js" as="script"><link rel="preload" href="/assets/js/6.e26d9d7a.js" as="script"><link rel="preload" href="/assets/js/18.773011a8.js" as="script"><link rel="prefetch" href="/assets/js/10.f4a27e2d.js"><link rel="prefetch" href="/assets/js/11.75d1a016.js"><link rel="prefetch" href="/assets/js/12.a40c4bca.js"><link rel="prefetch" href="/assets/js/13.03f80995.js"><link rel="prefetch" href="/assets/js/14.20563779.js"><link rel="prefetch" href="/assets/js/15.3418a711.js"><link rel="prefetch" href="/assets/js/16.26e4c731.js"><link rel="prefetch" href="/assets/js/17.60cf050a.js"><link rel="prefetch" href="/assets/js/19.e8b85ada.js"><link rel="prefetch" href="/assets/js/20.b46a4378.js"><link rel="prefetch" href="/assets/js/21.fa35c4f7.js"><link rel="prefetch" href="/assets/js/22.99ccfa1d.js"><link rel="prefetch" href="/assets/js/23.cd92541d.js"><link rel="prefetch" href="/assets/js/24.0e69babf.js"><link rel="prefetch" href="/assets/js/25.a0742e00.js"><link rel="prefetch" href="/assets/js/26.1519a245.js"><link rel="prefetch" href="/assets/js/27.d7626145.js"><link rel="prefetch" href="/assets/js/28.188c2764.js"><link rel="prefetch" href="/assets/js/29.e02a1599.js"><link rel="prefetch" href="/assets/js/3.6974e60a.js"><link rel="prefetch" href="/assets/js/30.0d948b44.js"><link rel="prefetch" href="/assets/js/31.8b9fd450.js"><link rel="prefetch" href="/assets/js/32.ee15fc62.js"><link rel="prefetch" href="/assets/js/33.20db69c5.js"><link rel="prefetch" href="/assets/js/34.277ee399.js"><link rel="prefetch" href="/assets/js/35.04c80916.js"><link rel="prefetch" href="/assets/js/36.5d8a76e1.js"><link rel="prefetch" href="/assets/js/37.0116763c.js"><link rel="prefetch" href="/assets/js/38.bcbcc820.js"><link rel="prefetch" href="/assets/js/39.a7fadb73.js"><link rel="prefetch" href="/assets/js/4.0b9ebf3c.js"><link rel="prefetch" href="/assets/js/40.c6f9e903.js"><link rel="prefetch" href="/assets/js/41.ad2c6d04.js"><link rel="prefetch" href="/assets/js/42.aeabba30.js"><link rel="prefetch" href="/assets/js/43.aa48bece.js"><link rel="prefetch" href="/assets/js/44.8d39fae2.js"><link rel="prefetch" href="/assets/js/45.9ca200d9.js"><link rel="prefetch" href="/assets/js/46.fc5c0fdb.js"><link rel="prefetch" href="/assets/js/47.f2e6cc00.js"><link rel="prefetch" href="/assets/js/48.08480aca.js"><link rel="prefetch" href="/assets/js/49.14533b74.js"><link rel="prefetch" href="/assets/js/5.70112a65.js"><link rel="prefetch" href="/assets/js/50.b42511e2.js"><link rel="prefetch" href="/assets/js/51.f61d79c7.js"><link rel="prefetch" href="/assets/js/52.a3ba7191.js"><link rel="prefetch" href="/assets/js/53.ed3b006e.js"><link rel="prefetch" href="/assets/js/54.283d2fa5.js"><link rel="prefetch" href="/assets/js/55.087a39c5.js"><link rel="prefetch" href="/assets/js/56.f0e9ddfd.js"><link rel="prefetch" href="/assets/js/57.0013350b.js"><link rel="prefetch" href="/assets/js/58.42dbde8d.js"><link rel="prefetch" href="/assets/js/59.21e63379.js"><link rel="prefetch" href="/assets/js/7.3d154f12.js"><link rel="prefetch" href="/assets/js/8.54167512.js"><link rel="prefetch" href="/assets/js/9.6590b3d8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8a65df11.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/slp-documentation-logo.svg" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/get-started/" class="sidebar-link">Get Started</a></li><li><a href="/terminology/" class="sidebar-link">Terminology</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Specifications</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Guides</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/overview/" class="sidebar-link">Overview</a></li><li><a href="/guides/slp-implementation-instructions/" class="active sidebar-link">Implementation Instructions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/slp-implementation-instructions/#have-multiple-sources-of-validation-or-client-side-validation" class="sidebar-link">Have Multiple Sources of Validation or Client Side Validation</a></li><li class="sidebar-sub-header"><a href="/guides/slp-implementation-instructions/#pass-all-slp-unit-tests" class="sidebar-link">Pass All SLP Unit Tests</a></li><li class="sidebar-sub-header"><a href="/guides/slp-implementation-instructions/#prevent-users-burning-tokens-by-accident" class="sidebar-link">Prevent Users Burning Tokens by Accident</a></li><li class="sidebar-sub-header"><a href="/guides/slp-implementation-instructions/#refer-to-white-listed-tokens-if-necessary" class="sidebar-link">Refer to White Listed Tokens if Necessary</a></li><li class="sidebar-sub-header"><a href="/guides/slp-implementation-instructions/#sending-considerations" class="sidebar-link">Sending Considerations</a></li></ul></li><li><a href="/guides/create-slp-faucet/" class="sidebar-link">Create your own SLP Faucet</a></li><li><a href="/guides/add-slp-icon/" class="sidebar-link">Add an icon for your SLP Token</a></li><li><a href="/guides/slp-software-setup/" class="sidebar-link">SLP software setup</a></li><li><a href="/guides/SLPDB-usage/" class="sidebar-link">SLPDB usage</a></li><li><a href="/guides/how-to-use-explorer/" class="sidebar-link">How to use SLP Explorer</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Packages</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tooling</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/community/" class="sidebar-link">Community</a></li></ul> </aside> <main class="page" data-v-4c735fbc> <div class="theme-default-content content__default" data-v-4c735fbc><h1 id="slp-implementation-instruction-for-wallet-and-exchanges"><a href="#slp-implementation-instruction-for-wallet-and-exchanges" class="header-anchor">#</a> SLP Implementation Instruction for Wallet and Exchanges</h1> <p>This document provides a baseline checklist of application level security considerations for developers. It is maintained by the SLP Foundation and serves as a standard for production ready SLP implementations.</p> <p>Following all the best practices below will ensure users have a reliable and seamless experience on the developer's SLP implementation.</p> <p>Not following Best Practices for SLP may result in users losing money. It is in the best interest of app developers to follow these guidelines and if they are unable to, to let users know the wallet is not safe to use for larger amounts and that it is a work-in-progress.</p> <p>The SLP protocol when used properly is extremely secure. It is only when implementations do not follow best practices that they may result in users losing funds or burning SLP tokens.</p> <h2 id="have-multiple-sources-of-validation-or-client-side-validation"><a href="#have-multiple-sources-of-validation-or-client-side-validation" class="header-anchor">#</a> Have Multiple Sources of Validation or Client Side Validation</h2> <p>[high level]</p> <p>It is very important for any released SLP implementation to not rely on a single third party server for SLP validation queries in the developer's implementation, as any bug, breach, or timeout can give a wrong validity result that is not in sync with the blockchain.</p> <p>A wrong validity result will provide bad data, in which case the user or developer may lose money because the amount of valid SLP input into a transaction will be less than the amount sent out, causing a burning of all valid input SLP balances.</p> <p>Some common examples of this is relying on bitcoin.com's REST API for validation, or on a single SLPDB instance. Whilst this is fine for developing the application it is not good practice to trust only one source of SLP validation for production.</p> <p>This is not an issue in the case the developer's application does client side validation, as it doesn't need multiple sources of truth to compare against because it can validate for itself and not be subject to bad third party data.</p> <p>In cases where the client cannot validate themselves due to resource constraints they should pull data from multiple SLP validation sources so that the data can be cross checked.</p> <p>In any design it would be bad practice to be sending transactions based on only one server's response.</p> <p>[tech level]</p> <h3 id="self-validation-how-does-it-work"><a href="#self-validation-how-does-it-work" class="header-anchor">#</a> Self validation: how does it work?</h3> <p>To perform client-side validation you must first look up the provided transaction.</p> <p>You then must get the DAG back to the last transactions you have verified. If this is the first transaction of a token verification this means the DAG back to genesis. If you have already validated transactions for a token, you may store these valid txids and cancel the crawl once you hit txids which are in the intersection of the already validated DAG and the currently validating DAG. Gs++ provides a way for you to enter in “exclude_txids” which internally will provide you the set difference or delta allowing you to recombine and validate on the client side. Using the “exclude_txids” feature allow for greatly reduced bandwidth requirements.</p> <p>You should use a library such as slp-validate which has passed the SLP unit tests to perform the validation. Once you have a valid result, you may mark the utxos involved as valid and use them in future transactions.</p> <h3 id="multiple-validation-sources-how-to-do-it"><a href="#multiple-validation-sources-how-to-do-it" class="header-anchor">#</a> Multiple validation sources: how to do it?</h3> <p>Use more than your own company's servers!</p> <p>Pull from as many sources as possible.. If more than N are down… mark utxos as unresolved, if more than M are disagreeing mark as unresolved. This way an attacker could not simply dos the servers to force validity. Also, if one or more hacked would not be able to steal funds/scam/cause destruction. If you are relying on a single server or a single companies servers, you will not be doing due diligence on the validity of the transactions and it can lead to token burns.</p> <p>There are many different public SLPDB sources which can be used for validity checking (status.slpdb.io), as well as GS++ servers, and there is bitcoin.com’s slp-indexer as well. Pulling from multiple of these will ensure your users funds are safe.</p> <h2 id="pass-all-slp-unit-tests"><a href="#pass-all-slp-unit-tests" class="header-anchor">#</a> Pass All SLP Unit Tests</h2> <p>[high level]</p> <p>This applies only to developers reimplementing SLP. If the developer is using existing libraries which handles SLP, they should check such libraries have already met the SLP best practices and if not improve them until they do meet them.</p> <p>The developer application needs to implement all SLP unit tests (https://github.com/simpleledger/slp-unit-test-data/) without fail.</p> <p>Any SLP implementation should make it easy to run these tests and have the resulting test data updated as part of each build that the developer is working on.</p> <p>Prior to any release all tests should be passing beforehand.</p> <p>As in the previous case, a wrong validity result due to not running these unit tests thoroughly may result in users losing money.</p> <p>The tests do not necessarily catch everything and it is highly recommended for developers to also use fuzzers if they are reimplementing SLP.</p> <p>[tech level]</p> <p>Ensure that all libraries used by your application and your application itself adheres to the https://github.com/simpleledger/slp-unit-test-data repository.</p> <p>These should be run for before any update to the services are pushed to production.</p> <p>Any code which parses SLP transactions should be fuzzed using differential fuzzing applications (such as the GS++ fuzzing system). The SLP Foundation is able to provide assistance for setting this up for new applications. You should run the differential fuzzing tools for at least 1 billion transactions after changes to SLP handling code, or ideally any update (in case things interact in ways you did not foresee).</p> <h2 id="prevent-users-burning-tokens-by-accident"><a href="#prevent-users-burning-tokens-by-accident" class="header-anchor">#</a> Prevent Users Burning Tokens by Accident</h2> <p>[high level]</p> <p>The design of the application should include measures to prevent SLP tokens being burned by accident, applicable to the type of implementation being developed.</p> <p>If burning is a feature of the SLP implementation, it should be made explicit to the user before allowing them to proceed.</p> <p>[tech level]</p> <p>Wallet Functionality:</p> <ul><li>Preventing SLP UTXO's being spent as BCH without special warning.</li> <li>Perform double check on transactions that no burns are happening with different code paths</li> <li>Performs full client side validation of all SLP validity</li> <li>Require sending SLP to simple ledger addresses</li> <li>Use 245 derivation path to signal SLP wallet, or some other derivation change such as new account.</li> <li>You should perform a pre-signing token burn check such as done in Electron Cash SLP. This is a last chance check to ensure that user will not lose funds.</li></ul> <p>You can refer to https://github.com/simpleledger/Electron-Cash-SLP/blob/master/lib/slp_checker.py for an example of how to perform a pre-signing burn check.</p> <h2 id="refer-to-white-listed-tokens-if-necessary"><a href="#refer-to-white-listed-tokens-if-necessary" class="header-anchor">#</a> Refer to White Listed Tokens if Necessary</h2> <p>The design of SLP allows tokens to appear with the same name. If a developer's application wants to verify which is the whitelisted token they should refer to a verified tokens list kept by the application. One choice is to periodically pull the simpleledger.info <a href="https://github.com/blockparty-sh/slp-explorer" target="_blank" rel="noopener noreferrer">verified tokens list<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> if you don’t want to maintain your own list, however this list should be scrutinized during each update.</p> <p>It is the developer's responsibility to ensure that they find the correct tokenid for any token they wish to let the user access, unless the design makes it implicit that it is the user's responsibility to check the token.</p> <p>Nice to have: an interface that puts user in control of whitelist choices.</p> <h2 id="sending-considerations"><a href="#sending-considerations" class="header-anchor">#</a> Sending Considerations</h2> <p>[high level]</p> <p>It’s important to use minimal sized utxos (dust limit) as it otherwise requires multiple outputs to split the BCH and SLP. SLP utxos should be just that - SLP.</p> <p>If you have SLP but no or little BCH you won’t be able to send. The wallet should handle this gracefully with a message for the user.</p> <p>[tech level]</p> <p>Create SLP utxos using dust limit (546 satoshis).</p> <p>Do not allow wallet to use utxos unless they have been validated as described above.</p> <p>Keep in mind, it is possible for receiving SLP utxos to be any sized BCH.</p></div> <div class="content-footer" data-v-4c735fbc><footer class="page-edit" data-v-4c735fbc><div class="edit-link"><a href="https://github.com/simpleledger/simpleledger.github.io/edit/develop/docs/guides/slp-implementation-instructions.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/2/2020, 7:31:31 PM</span></div></footer> <div class="page-nav" data-v-4c735fbc><p class="inner"><span class="prev">
      ←
      <a href="/guides/overview/" class="prev">
        Overview
      </a></span> <span class="next"><a href="/guides/create-slp-faucet/">
        Create your own SLP Faucet
      </a>
      →
    </span></p></div></div> <div data-v-4c735fbc></div> <div data-v-4c735fbc></div> </main></div><div class="global-ui"><!----><div></div></div></div>
    <script src="/assets/js/app.bf846639.js" defer></script><script src="/assets/js/2.a571aff2.js" defer></script><script src="/assets/js/6.e26d9d7a.js" defer></script><script src="/assets/js/18.773011a8.js" defer></script>
  </body>
</html>
